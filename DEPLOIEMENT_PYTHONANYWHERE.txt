==============================================
  GUIDE D√âPLOIEMENT PYTHONANYWHERE
  Page d'Accueil Publique + Corrections PDF
==============================================

üìÖ Date: 04 Octobre 2025
üéØ Objectif: D√©ployer les nouvelles fonctionnalit√©s

==============================================
  √âTAPE 1: CONNEXION PYTHONANYWHERE
==============================================

1. Ouvrir https://www.pythonanywhere.com
2. Se connecter avec vos identifiants
3. Aller dans "Consoles" ‚Üí "Bash"

==============================================
  √âTAPE 2: MISE √Ä JOUR DU CODE
==============================================

# Se placer dans le r√©pertoire du projet
cd ~/guineegest

# V√©rifier la branche actuelle
git branch

# R√©cup√©rer les derni√®res modifications
git pull origin main

# V√©rifier que le pull a r√©ussi
git log -1 --oneline

==============================================
  √âTAPE 3: V√âRIFICATIONS
==============================================

# V√©rifier que les nouveaux fichiers sont pr√©sents
ls -la fleet_app/templates/fleet_app/locations/accueil_public.html
ls -la ACCUEIL_PUBLIC.md

# V√©rifier les modifications dans views_location.py
grep -n "def accueil_public" fleet_app/views_location.py

# V√©rifier la route dans urls.py
grep -n "accueil" fleet_management/urls.py

==============================================
  √âTAPE 4: RELOAD APPLICATION WEB
==============================================

1. Aller dans l'onglet "Web" de PythonAnywhere
2. Trouver votre application (gestionnairedeparc.pythonanywhere.com)
3. Cliquer sur le bouton "Reload" (vert)
4. Attendre que le reload soit termin√© (~30 secondes)

==============================================
  √âTAPE 5: TESTS EN PRODUCTION
==============================================

# Test 1: Page d'accueil publique
Ouvrir: https://gestionnairedeparc.pythonanywhere.com/accueil/

‚úÖ V√©rifier:
- Page s'affiche sans erreur
- Statistiques visibles
- Cartes v√©hicules affich√©es
- Badges color√©s corrects
- Design responsive

# Test 2: PDF Facture individuelle
1. Se connecter √† l'application
2. Aller dans Locations ‚Üí Factures
3. Cliquer sur "PDF" pour une facture
4. V√©rifier que le PDF se t√©l√©charge

# Test 3: PDF Lot de factures
1. Aller dans Locations ‚Üí Factures
2. Cocher plusieurs factures
3. Cliquer sur "PDF Lot"
4. V√©rifier que le PDF se t√©l√©charge

==============================================
  √âTAPE 6: V√âRIFICATION DES LOGS
==============================================

# Consulter les logs d'erreur
tail -50 /var/log/gestionnairedeparc.pythonanywhere.com.error.log

# Consulter les logs d'acc√®s
tail -50 /var/log/gestionnairedeparc.pythonanywhere.com.access.log

# Si erreurs, v√©rifier:
- Imports manquants
- Probl√®mes de templates
- Erreurs de syntaxe

==============================================
  √âTAPE 7: PARTAGE DE L'URL PUBLIQUE
==============================================

URL √† partager avec les propri√©taires:
https://gestionnairedeparc.pythonanywhere.com/accueil/

Moyens de partage:
üì± SMS
üìß Email
üí¨ WhatsApp
üì∑ QR Code (g√©n√©rer sur qr-code-generator.com)

Message type:
"Bonjour, vous pouvez maintenant consulter l'√©tat de votre v√©hicule en temps r√©el sur: https://gestionnairedeparc.pythonanywhere.com/accueil/ - Aucune connexion requise!"

==============================================
  √âTAPE 8: SURVEILLANCE
==============================================

# V√©rifier les acc√®s √† la page publique
grep "/accueil/" /var/log/gestionnairedeparc.pythonanywhere.com.access.log | tail -20

# V√©rifier les erreurs √©ventuelles
grep "ERROR" /var/log/gestionnairedeparc.pythonanywhere.com.error.log | tail -20

# Surveiller les performances
# (via interface PythonAnywhere ‚Üí Web ‚Üí Metrics)

==============================================
  D√âPANNAGE
==============================================

PROBL√àME: Page 404 pour /accueil/
SOLUTION: V√©rifier que la route est bien dans urls.py avant include('fleet_app.urls')

PROBL√àME: AttributeError 'user'
SOLUTION: V√©rifier context_processors.py avec hasattr(request, 'user')

PROBL√àME: Pas de v√©hicules affich√©s
SOLUTION: V√©rifier qu'il existe des LocationVehicule avec statut='Active'

PROBL√àME: PDF ne se g√©n√®re pas
SOLUTION: 
1. V√©rifier que xhtml2pdf est install√©: pip list | grep xhtml2pdf
2. Si absent: pip install --user xhtml2pdf
3. Reload application

PROBL√àME: Erreur de template
SOLUTION: V√©rifier les chemins des templates et les imports Bootstrap

==============================================
  COMMANDES UTILES
==============================================

# Red√©marrer la console si n√©cessaire
exit

# V√©rifier l'environnement virtuel
which python
python --version

# Lister les packages install√©s
pip list

# Installer un package manquant
pip install --user nom_package

# V√©rifier les migrations
python manage.py showmigrations

# Collecter les fichiers statiques (si n√©cessaire)
python manage.py collectstatic --noinput

==============================================
  CHECKLIST FINALE
==============================================

[ ] Code pull√© depuis GitHub
[ ] Fichiers pr√©sents v√©rifi√©s
[ ] Application reload√©e
[ ] Page /accueil/ accessible
[ ] PDF factures fonctionnels
[ ] Logs v√©rifi√©s (pas d'erreurs)
[ ] URL partag√©e avec propri√©taires
[ ] Tests utilisateurs effectu√©s
[ ] Feedback collect√©

==============================================
  CONTACTS SUPPORT
==============================================

Documentation:
- ACCUEIL_PUBLIC.md
- GUIDE_PROPRIETAIRES.md
- README_ACCUEIL_PUBLIC.md

Support technique:
- Email: support@guineegest.com
- T√©l√©phone: +224 XXX XXX XXX

==============================================
  NOTES IMPORTANTES
==============================================

1. La page /accueil/ est PUBLIQUE (pas d'authentification)
2. Aucune donn√©e sensible n'est affich√©e (pas de tarifs)
3. Auto-refresh toutes les 5 minutes
4. Compatible mobile et desktop
5. Badges color√©s par statut (vert/rouge/jaune/gris)

==============================================
  SUCC√àS !
==============================================

‚úÖ D√©ploiement termin√©
‚úÖ Fonctionnalit√©s op√©rationnelles
‚úÖ Tests valid√©s
‚úÖ URL partageable

üéâ Guin√©eGest est maintenant plus accessible !

==============================================
