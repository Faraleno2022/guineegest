{% for alerte in alertes %}
<div class="list-group-item list-group-item-action">
    <div class="d-flex w-100 justify-content-between">
        <h5 class="mb-1">
            {% if alerte.niveau_urgence == 'Critique' %}
                <span class="badge bg-danger me-2">Critique</span>
            {% elif alerte.niveau_urgence == 'Élevé' %}
                <span class="badge bg-warning me-2">Élevé</span>
            {% elif alerte.niveau_urgence == 'Moyen' %}
                <span class="badge bg-info me-2">Moyen</span>
            {% else %}
                <span class="badge bg-secondary me-2">Faible</span>
            {% endif %}
            {{ alerte.type_alerte|default:alerte.titre }}
        </h5>
        <small>{{ alerte.date_creation|date:"d/m/Y H:i" }}</small>
    </div>
    <p class="mb-1">{{ alerte.description|default:"Aucune description" }}</p>
    <div class="d-flex justify-content-between align-items-center">
        <small>
            Véhicule: 
            {% if alerte.vehicule %}
                <a href="{% url 'fleet_app:vehicule_detail' alerte.vehicule.id_vehicule %}" class="text-decoration-none">
                    {{ alerte.vehicule }}
                </a>
            {% else %}
                <span class="text-muted">Non spécifié</span>
            {% endif %}
        </small>
        <div class="btn-group btn-group-sm">
            <button class="btn btn-outline-success btn-resoudre" data-id="{{ alerte.pk }}" title="Marquer comme résolu">
                <i class="fas fa-check"></i> Résolu
            </button>
            <button class="btn btn-outline-secondary btn-ignorer" data-id="{{ alerte.pk }}" title="Ignorer">
                <i class="fas fa-eye-slash"></i> Ignorer
            </button>
            <button class="btn btn-outline-danger btn-supprimer" data-id="{{ alerte.pk }}" title="Supprimer">
                <i class="fas fa-trash"></i>
            </button>
        </div>
    </div>
</div>
{% empty %}
<div class="text-center py-5">
    <i class="fas fa-search text-muted fa-3x mb-3"></i>
    <h5>Aucune alerte trouvée</h5>
    <p class="text-muted">Aucune alerte ne correspond à vos critères de recherche.</p>
</div>
{% endfor %}
